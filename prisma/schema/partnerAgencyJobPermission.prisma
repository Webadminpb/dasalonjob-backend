enum CollaborationInitiator {
  PARTNER
  AGENCY
}

model PartnerAgencyJobPermission {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  venueId String @db.ObjectId
  venue PartnerVenue @relation(fields: [venueId], references: [id])

  agencyId String @db.ObjectId
  agency Auth @relation(fields: [agencyId], references: [id])

  requestedBy CollaborationInitiator
  approvedBy CollaborationInitiator?
  approvedAt DateTime?

  partnerHasAccess Boolean @default(false)
  agencyHasAccess Boolean @default(false)


  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([venueId])
  @@index([agencyId])
  @@unique([agencyId, venueId])
}